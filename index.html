<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<meta name="description" content="Suivi transparent des promesses √©lectorales du Pr√©sident Bassirou Diomaye Faye - Tableau de bord interactif moderne">
<meta name="theme-color" content="#2a6d5d">

<!-- Open Graph -->
<meta property="og:title" content="üìä Tableau de Bord Interactif - Suivi des Engagements Pr√©sidentiels">
<meta property="og:description" content="Visualisez l'avancement des 99 engagements du projet Pour un S√©n√©gal Souverain, Juste et Prosp√®re">
<meta property="og:type" content="website">
<meta property="og:url" content="https://projetbi.org/">
<meta property="og:image" content="https://projetbi.org/og-image-v2.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<title>üöÄ Tableau de Bord Interactif - Suivi des 99 Engagements</title>
  
  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  
  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Loader -->
  <div class="app-loader" id="appLoader">
    <div class="loader-content">
      <div class="loader-logo">
        <i class="fas fa-chart-line"></i>
      </div>
      <h2 style="color: var(--primary); margin-bottom: 1rem;">Chargement du tableau de bord</h2>
      <p style="color: var(--text-secondary); margin-bottom: 2rem;">Pr√©paration des donn√©es en temps r√©el...</p>
      <div class="loader-progress">
        <div class="loader-progress-bar"></div>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="nav-brand">
        <div class="nav-logo">
          <i class="fas fa-flag"></i>
        </div>
        <div class="nav-title">PROJET SENEGAL<br><span style="font-size: 0.8rem; font-weight: 400;">TABLEAU DE BORD</span></div>
      </a>
      
      <div class="nav-menu" id="navMenu">
        <a href="#dashboard" class="nav-link active">
          <i class="fas fa-dashboard"></i>
          Tableau de bord
        </a>
        <a href="#promises" class="nav-link">
          <i class="fas fa-bullseye"></i>
          Engagements
        </a>
        <a href="#stats" class="nav-link">
          <i class="fas fa-chart-pie"></i>
          Statistiques
        </a>
        <a href="#timeline" class="nav-link">
          <i class="fas fa-timeline"></i>
          Chronologie
        </a>
        <a href="#about" class="nav-link">
          <i class="fas fa-info-circle"></i>
          √Ä propos
        </a>
      </div>
      
      <div class="nav-actions">
        <button class="theme-toggle" id="themeToggle" title="Changer de th√®me">
          <i class="fas fa-moon"></i>
        </button>
        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-background"></div>
    <div class="hero-content">
      <div class="hero-badge">
        <i class="fas fa-bolt"></i>
        Tableau de bord interactif
      </div>
      <h1 class="hero-title">
        Suivi des Engagements<br>
        <span style="font-size: 2.5rem; display: block; margin-top: 0.5rem;">Pour un S√©n√©gal Souverain</span>
      </h1>
      <p class="hero-subtitle">
        Visualisez en temps r√©el l'avancement des 99 engagements du projet pr√©sidentiel.
        Donn√©es mises √† jour quotidiennement avec transparence totale.
      </p>
      
      <div class="hero-stats">
        <div class="hero-stat">
          <div class="hero-stat-value" id="hero-total">99</div>
          <div class="hero-stat-label">Engagements totaux</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value" style="background: linear-gradient(135deg, var(--success), var(--teal)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;" id="hero-realise">0</div>
          <div class="hero-stat-label">‚úÖ R√©alis√©s</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value" style="background: linear-gradient(135deg, var(--warning), var(--accent-light)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;" id="hero-encours">0</div>
          <div class="hero-stat-label">üîÑ En cours</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value" style="background: linear-gradient(135deg, var(--accent), var(--accent-light)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;" id="hero-retard">0</div>
          <div class="hero-stat-label">‚ö†Ô∏è En retard</div>
        </div>
      </div>
      
      <div class="dashboard-actions">
        <button class="btn btn-primary" onclick="exportDashboard()">
          <i class="fas fa-download"></i>
          Exporter le rapport
        </button>
        <button class="btn btn-secondary" onclick="shareDashboard()">
          <i class="fas fa-share-alt"></i>
          Partager
        </button>
      </div>
    </div>
  </section>

  <!-- Dashboard Section -->
  <section class="dashboard" id="dashboard">
    <div class="dashboard-header">
      <h2 class="section-title">Tableau de bord analytique</h2>
      <div class="dashboard-actions">
        <button class="btn btn-icon btn-secondary" id="toggleView" title="Changer de vue">
          <i class="fas fa-table"></i>
        </button>
        <button class="btn btn-icon btn-secondary" id="refreshData" title="Actualiser">
          <i class="fas fa-sync-alt"></i>
        </button>
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid" id="stats">
      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon">
            <i class="fas fa-bullseye"></i>
          </div>
          <div class="stat-trend up">
            <i class="fas fa-arrow-up"></i>
            +2.5%
          </div>
        </div>
        <div class="stat-value" id="total-promises">99</div>
        <div class="stat-label">Engagements totaux</div>
        <div class="stat-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 100%"></div>
          </div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="stat-trend up">
            <i class="fas fa-arrow-up"></i>
            +5.2%
          </div>
        </div>
        <div class="stat-value" id="realise-promises">0</div>
        <div class="stat-label">‚úÖ R√©alis√©s</div>
        <div class="stat-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon">
            <i class="fas fa-sync-alt"></i>
          </div>
          <div class="stat-trend up">
            <i class="fas fa-arrow-up"></i>
            +3.1%
          </div>
        </div>
        <div class="stat-value" id="encours-promises">0</div>
        <div class="stat-label">üîÑ En cours</div>
        <div class="stat-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <div class="stat-trend down">
            <i class="fas fa-arrow-down"></i>
            -1.8%
          </div>
        </div>
        <div class="stat-value" id="retard-promises">0</div>
        <div class="stat-label">‚ö†Ô∏è En retard</div>
        <div class="stat-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon">
            <i class="fas fa-star"></i>
          </div>
          <div class="stat-trend up">
            <i class="fas fa-arrow-up"></i>
            +4.7%
          </div>
        </div>
        <div class="stat-value" id="avg-rating">0.0</div>
        <div class="stat-label">‚≠ê Note moyenne</div>
        <div class="stat-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Charts Section -->
    <div class="charts-grid">
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">R√©partition par secteur</h3>
          <i class="fas fa-chart-pie" style="color: var(--primary);"></i>
        </div>
        <div class="chart-container">
          <canvas id="sectorChart"></canvas>
        </div>
      </div>

      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Progression temporelle</h3>
          <i class="fas fa-chart-line" style="color: var(--secondary);"></i>
        </div>
        <div class="chart-container">
          <canvas id="progressChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Promises Section -->
    <div class="promises-container" id="promises">
      <div class="promises-header">
        <h2 class="section-title">Engagements d√©taill√©s</h2>
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="searchInput" placeholder="Rechercher un engagement...">
        </div>
      </div>

      <div class="filters-row">
        <div class="filter-group active" data-filter="all">
          <i class="fas fa-layer-group"></i>
          Tous
        </div>
        <div class="filter-group" data-filter="realise">
          <i class="fas fa-check-circle"></i>
          R√©alis√©s
        </div>
        <div class="filter-group" data-filter="encours">
          <i class="fas fa-sync-alt"></i>
          En cours
        </div>
        <div class="filter-group" data-filter="retard">
          <i class="fas fa-exclamation-triangle"></i>
          En retard
        </div>
        <div class="filter-group" data-filter="nonlance">
          <i class="fas fa-hourglass-start"></i>
          Non lanc√©s
        </div>
      </div>

      <div class="promises-grid" id="promisesGrid">
        <!-- Les cartes de promesses seront g√©n√©r√©es ici -->
        <div class="loading-placeholder">
          <div class="spinner"></div>
          <p>Chargement des engagements...</p>
        </div>
      </div>
    </div>

    <!-- Timeline View (Hidden by default) -->
    <div class="timeline-view" id="timelineView">
      <div class="timeline">
        <!-- Timeline items will be generated here -->
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer" id="about">
    <div class="footer-grid">
      <div class="footer-section">
        <h3>Contact</h3>
        <ul class="contact-list">
          <li>
            <i class="fas fa-envelope"></i>
            <span>contact@projetbi.org</span>
          </li>
          <li>
            <i class="fas fa-phone"></i>
            <span>+221 33 800 00 00</span>
          </li>
          <li>
            <i class="fas fa-map-marker-alt"></i>
            <span>Dakar, S√©n√©gal</span>
          </li>
          <li>
            <i class="fas fa-clock"></i>
            <span>Lun - Ven: 9h - 18h</span>
          </li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Ressources</h3>
        <ul class="contact-list">
          <li>
            <i class="fas fa-file-pdf"></i>
            <span>Programme complet (PDF)</span>
          </li>
          <li>
            <i class="fas fa-database"></i>
            <span>Donn√©es ouvertes</span>
          </li>
          <li>
            <i class="fas fa-chart-bar"></i>
            <span>Statistiques d√©taill√©es</span>
          </li>
          <li>
            <i class="fas fa-question-circle"></i>
            <span>FAQ</span>
          </li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Suivez-nous</h3>
        <div class="social-links">
          <a href="#" class="social-link">
            <i class="fab fa-x-twitter"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-linkedin-in"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-youtube"></i>
          </a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <p>¬© 2024 Tableau de Bord Interactif - Suivi des Engagements Pr√©sidentiels</p>
      <p style="margin-top: 0.5rem; font-size: 0.8rem; opacity: 0.7;">
        D√©velopp√© avec ‚ù§Ô∏è pour la transparence d√©mocratique | Derni√®re mise √† jour: <span id="lastUpdate"></span>
      </p>
    </div>
  </footer>

  <!-- Capture Modal -->
  <div class="capture-modal" id="captureModal">
    <div class="capture-content">
      <button class="close-capture" id="closeCapture">
        <i class="fas fa-times"></i>
      </button>
      <img id="captureImage" class="capture-image" alt="Capture de la promesse">
      <div class="capture-actions">
        <button class="capture-action-btn" id="downloadCapture">
          <i class="fas fa-download"></i>
          T√©l√©charger
        </button>
        <button class="capture-action-btn" id="shareCapture">
          <i class="fas fa-share-alt"></i>
          Partager
        </button>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="app.js"></script>
</body>
</html>
